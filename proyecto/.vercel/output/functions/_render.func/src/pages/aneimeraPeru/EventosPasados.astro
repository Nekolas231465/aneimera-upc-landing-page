---
import "glider-js/glider.min.css";
import { Image } from "astro:assets";
import EventoPasadoUno from "../../assets/Imagenes/EventoPas1.webp";
import EventoPasadoDos from "../../assets/Imagenes/EventoPas2.webp";
import EventoPasadoTres from "../../assets/Imagenes/EventoPas3.webp";
import EventoPasadoCuatro from "../../assets/Imagenes/USAT.webp";
import EventoPasadoCinco from "../../assets/Imagenes/cusco.webp";
import EventoPasadoSeis from "../../assets/Imagenes/una.webp";
import EventoPasadoSiete from "../../assets/Imagenes/unrpg.webp";
import LeftArrow from "../../assets/LeftArrow.astro";
import RightArrow from "../../assets/RightArrow.astro";
---

<section>
  <div class="contenedor pb-16">
    <div class="carousel__contenedor">
      <button
        aria-label="Anterior"
        class="carousel__anterior min-w-14 pr-3 -ml-6 sm:-ml-0"
      >
        <LeftArrow />
      </button>
      <div class="carousel__lista pb-3">
        <div class="carousel__elemento flex flex-col w-full">
          <Image
            src={EventoPasadoUno}
            alt="evento-pasado-uno"
            class="h-80 min-w-[250px] sm:min-w-0 -ml-10 xs:-ml-4 sm:-ml-0 object-fill md:object-fill"
          />
          <h1
            class="pl-5 md:pl-12 text-2xl pt-4 pb-2 font-semibold text-black opacity-90 uppercase"
          >
            <b>Coneimera Huancayo</b>
          </h1>
          <p
            class="pl-5 md:pl-12 flex-1 font-normal text-normal md:text-lg
              tracking-wide text-balance leading-relaxed text-slate-100"
          >
            Congreso y exposición internacional de ingeniería mecánica,
            mecatrónica, eléctrica, electrónica y ramas afines<br />
          </p>
          <p
            class="pl-5 pt-4 text-slate-50/80 md:pl-12 flex-1 font-normal text-normal md:text-base
              tracking-wide text-balance leading-relaxed italic"
          >
            Fecha: 30/09/2012 - 6/10/2012
          </p>
        </div>
        <div class="carousel__elemento flex flex-col w-full">
          <Image
            src={EventoPasadoDos}
            alt="evento-pasado-uno"
            class="h-80 min-w-[250px] sm:min-w-0 -ml-10 xs:-ml-4 sm:-ml-0 object-fill md:object-fill"
          />
          <h1
            class="pl-5 md:pl-12 text-2xl pt-4 pb-2 font-semibold text-black opacity-90 uppercase"
          >
            <b>Coneimera UNP</b>
          </h1>
          <p
            class="pl-5 md:pl-12 flex-1 font-normal text-normal md:text-lg
              tracking-wide text-balance leading-relaxed text-slate-100"
          >
            Congreso y exposición internacional de ingeniería mecánica,
            mecatrónica, eléctrica, electrónica y ramas afines. Coneimera 2016
            Piura<br />
          </p>
          <p
            class="pl-5 pt-4 text-slate-50/80 md:pl-12 flex-1 font-normal text-normal md:text-base
              tracking-wide text-balance leading-relaxed italic"
          >
            Fecha: 09/2016
          </p>
        </div>
        <div class="carousel__elemento flex flex-col w-full">
          <Image
            src={EventoPasadoTres}
            alt="evento-pasado-uno"
            class="h-80 min-w-[250px] sm:min-w-0 -ml-10 xs:-ml-4 sm:-ml-0 object-fill md:object-fill"
          />
          <h1
            class="pl-5 md:pl-12 text-2xl pt-4 pb-2 font-semibold text-black opacity-90 uppercase"
          >
            <b>Coneimera UNT</b>
          </h1>
          <p
            class="pl-5 md:pl-12 flex-1 font-normal text-normal md:text-lg
              tracking-wide text-balance leading-relaxed text-slate-100"
          >
            Concurso de proyectos en Trujillo, realizado en el año 2017<br />
          </p>
          <p
            class="pl-5 pt-4 text-slate-50/80 md:pl-12 flex-1 font-normal text-normal md:text-base
              tracking-wide text-balance leading-relaxed italic"
          >
            Fecha: 10/2017
          </p>
        </div>
        <div class="carousel__elemento flex flex-col w-full">
          <Image
            src={EventoPasadoCuatro}
            alt="evento-pasado-uno"
            class="h-80 w-full min-w-[250px] sm:min-w-0 -ml-10 xs:-ml-4 sm:-ml-0 object-fill md:object-fill"
          />
          <h1
            class="pl-5 md:pl-12 text-2xl pt-4 pb-2 font-semibold text-black opacity-90 uppercase"
          >
            <b>Coneimera USAT</b>
          </h1>
          <p
            class="pl-5 md:pl-12 flex-1 font-normal text-normal md:text-lg
              tracking-wide text-balance leading-relaxed text-slate-100"
          >
            Concurso de proyectos en Chiclayo, realizado en el año 2018<br />
          </p>
          <p
            class="pl-5 pt-4 text-slate-50/80 md:pl-12 flex-1 font-normal text-normal md:text-base
              tracking-wide text-balance leading-relaxed italic"
          >
            Fecha: 24/09/2018 - 29/09/2018
          </p>
        </div>
        <div class="carousel__elemento flex flex-col w-full">
          <Image
            src={EventoPasadoCinco}
            alt="evento-pasado-uno"
            class="h-80 min-w-[250px] sm:min-w-0 -ml-10 xs:-ml-4 sm:-ml-0 object-fill md:object-fill"
          />
          <h1
            class="pl-5 md:pl-12 text-2xl pt-4 pb-2 font-semibold text-black opacity-90 uppercase"
          >
            <b>Coneimera Cusco</b>
          </h1>
          <p
            class="pl-5 md:pl-12 flex-1 font-normal text-normal md:text-lg
              tracking-wide text-balance leading-relaxed text-slate-100"
          >
            Concurso de proyectos en Cusco, realizado en el año 2019<br />
          </p>
          <p
            class="pl-5 pt-4 text-slate-50/80 md:pl-12 flex-1 font-normal text-normal md:text-base
              tracking-wide text-balance leading-relaxed italic"
          >
            Fecha: 07/10/2019 - 12/10/2019
          </p>
        </div>
        <div class="carousel__elemento flex flex-col w-full">
          <Image
            src={EventoPasadoSeis}
            alt="evento-pasado-uno"
            class="h-80 min-w-[250px] sm:min-w-0 -ml-10 xs:-ml-4 sm:-ml-0 object-fill md:object-fill"
          />
          <h1
            class="pl-5 md:pl-12 text-2xl pt-4 pb-2 font-semibold text-black opacity-90 uppercase"
          >
            <b>Coneimera UNA PUNO</b>
          </h1>
          <p
            class="pl-5 md:pl-12 flex-1 font-normal text-normal md:text-lg
              tracking-wide text-balance leading-relaxed text-slate-100"
          >
            Concurso de proyectos en Puno, realizado en el año 2021<br />
          </p>
          <p
            class="pl-5 pt-4 text-slate-50/80 md:pl-12 flex-1 font-normal text-normal md:text-base
              tracking-wide text-balance leading-relaxed italic"
          >
            Fecha: 09/2021
          </p>
        </div>
        <div class="carousel__elemento flex flex-col w-full">
          <Image
            src={EventoPasadoSiete}
            alt="evento-pasado-uno"
            class="h-80 min-w-[250px] sm:min-w-0 -ml-10 xs:-ml-4 sm:-ml-0 object-fill md:object-fill"
          />
          <h1
            class="pl-5 md:pl-12 text-2xl pt-4 pb-2 font-semibold text-black opacity-90 uppercase"
          >
            <b>Coneimera UNRPG</b>
          </h1>
          <p
            class="pl-5 md:pl-12 flex-1 font-normal text-normal md:text-lg
              tracking-wide text-balance leading-relaxed text-slate-100"
          >
            Concurso de proyectos en Lambayeque, realizado en el año 2022<br />
          </p>
          <p
            class="pl-5 pt-4 text-slate-50/80 md:pl-12 flex-1 font-normal text-normal md:text-base
              tracking-wide text-balance leading-relaxed italic"
          >
            Fecha: 29/08/2022 - 02/09/2022
          </p>
        </div>
      </div>

      <button aria-label="Siguiente" class="carousel__siguiente min-w-14 pl-3">
        <RightArrow />
      </button>
    </div>
    <div role="tablist" class="carousel__indicadores"></div>
  </div>
</section>

<style>
  section {
    background-color: #c42626;
  }
  .contenedor {
    max-width: 1200px;
    width: 90%;
    margin: auto;
  }

  /* --- --- CAROUSEL --- --- */
  .carousel__contenedor {
    position: relative;
  }

  .title {
    font-size: 20px;
    text-align: center;
  }
  .texto {
    padding-left: 20%;
    padding-right: 15%;
    text-align: center;
  }

  .carousel__elemento img {
    padding-left: 10%;
  }

  .carousel__anterior,
  .carousel__siguiente {
    position: absolute;
    display: block;
    border: none;
    top: calc(50% - 35px);
    cursor: pointer;
    line-height: 30px;
    text-align: center;
    background: none;
    opacity: 50%;
    color: white;
    top: 290px;
    width: 6%;
  }

  .carousel__anterior:hover,
  .carousel__siguiente:hover {
    opacity: 100%;
  }

  .carousel__lista {
    padding-top: 10%;
    overflow: hidden;
  }

  .carousel__elemento {
    padding: 10px;
  }

  .carousel__indicadores .glider-dot {
    display: block;
    border-radius: 50;
  }

  .carousel__indicadores .glider-dot:hover {
    opacity: 0.5;
    color: black;
  }

  .carousel__indicadores .glider-dot.active {
    opacity: 1;
  }

  .carousel__anterior {
    left: -30px;
    z-index: 1;
  }
  .carousel__siguiente {
    right: -63px;
  }
  /*responsive*/

  @media screen and (max-width: 1440px) {
    .contenedor {
      width: 100%;
      max-width: 80%;
    }

    .carousel__anterior {
      left: -40px;
    }
    .carousel__siguiente {
      right: -60px;
    }

    .carousel__anterior,
    .carousel__siguiente {
      width: 6%; /*tamaño imagen flecha */
    }
  }

  @media screen and (max-width: 1024px) {
    .carousel__anterior,
    .carousel__siguiente {
      width: 7%; /*tamaño imagen flecha */
    }
  }

  @media screen and (max-width: 720px) {
    .carousel__anterior {
      left: -30px;
    }
    .carousel__siguiente {
      right: -50px;
    }

    .carousel__anterior,
    .carousel__siguiente {
      top: 290px;
      width: 9%; /*tamaño imagen flecha */
    }
  }

  @media screen and (max-width: 680px) {
    .carousel__elemento img {
      padding-left: 25%;
      width: 70%;
    }

    .carousel__anterior,
    .carousel__siguiente {
      top: 240px;
      width: 10%; /*tamaño imagen flecha */
    }

    .carousel__anterior {
      left: 40px;
    }
    .carousel__siguiente {
      right: 40px;
    }
  }

  @media screen and (max-width: 600px) {
    .carousel__anterior,
    .carousel__siguiente {
      top: 240px;
      width: 10%; /*tamaño imagen flecha */
    }

    .carousel__elemento img {
      padding-left: 25%;
      width: 70%;
    }

    .carousel__anterior {
      left: 40px;
    }
    .carousel__siguiente {
      right: 40px;
    }
  }

  @media screen and (max-width: 500px) {
    .carousel__anterior,
    .carousel__siguiente {
      top: 180px;
      width: 11%; /*tamaño imagen flecha */
    }

    .carousel__anterior {
      left: 20px;
    }
    .carousel__siguiente {
      right: 20px;
    }
  }

  @media screen and (max-width: 400px) {
    .carousel__elemento img {
      width: 80%;
    }

    .title {
      font-size: 18px;
      text-align: center;
    }
    .texto {
      padding-left: 20%;
      padding-right: 15%;
      text-align: center;
    }

    .carousel__anterior,
    .carousel__siguiente {
      top: 200px;
      width: 15%; /*tamaño imagen flecha */
    }

    .carousel__anterior {
      left: 15px;
    }
    .carousel__siguiente {
      right: -5px;
    }
  }
</style>

<script>
  import Glider from "glider-js";
  document.addEventListener("astro:page-load", () => {
    const carouselList = document.querySelector(".carousel__lista");
    const prevArrow = document.querySelector(".carousel__anterior");
    const nextArrow = document.querySelector(".carousel__siguiente");

    if (carouselList && prevArrow && nextArrow) {
      new Glider(carouselList as HTMLElement, {
        slidesToShow: 1,
        slidesToScroll: 1,
        dots: ".carousel__indicadores",
        arrows: {
          prev: prevArrow,
          next: nextArrow,
        },
        responsive: [
          {
            // screens greater than >= 775px
            breakpoint: 700,
            settings: {
              // Set to `auto` and provide item width to adjust to viewport
              slidesToShow: 2,
              slidesToScroll: 2,
            },
          },
          {
            // screens greater than >= 1024px
            breakpoint: 1024,
            settings: {
              slidesToShow: 3, //de cuanto en cuanto
              slidesToScroll: 3,
            },
          },
        ],
      });
    }
  });
</script>
